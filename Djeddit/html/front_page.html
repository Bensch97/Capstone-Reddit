{% extends 'base.html' %}

{% block page_title %}
    <span>Front Page</span>
{% endblock %}
{% block login_signup %}
<div class='col mr-1 text-right'>
    <a class='btn btn-primary' href='/signup/'>Signup</a>
    <a class='btn btn-primary' href='/login/'>Login</a>
</div>

{% endblock %}

{% block content %}
<div class='row justify-content-end'>
    <div class='col'></div>
    <div class='col'></div>
</div>
<div class='row'>
    <div class='col-11 col-md-8'>
        {% for post in posts %}
            <div class='list-group m-1'>
                <div class="list-group-item list-group-item-action flex-column align-items-start">
                    <div class="d-flex w-100 ">
                        <p class='font-weight-bold'><a href='/r/{{ post.subreddit_id.name }}/' class='text-dark'>r/{{ post.subreddit_id.name }}</a></p><p class='font-weight-light ml-1'>Posted by <a href='/u/{{ post.profile_id.username }}' class='text-muted'>u/{{ post.profile_id.username }}</a> at {{ post.timestamp }}</p>
                    </div>
                    <!-- <h5 class='mb-1 float-left'>{{ vote_score }}</h5> -->
                    <h5 class='mb-1 ml-4'><a href='/p/{{ post.id }}' class='text-dark'>{{ post }}</a></h5>
                    <form action="/" method="POST" style="margin-block-end: 0;">
                        {% csrf_token %}
                        <input type="hidden" name="username" value="{{ user }}" />
                        <input type="hidden" name="post_id" value="{{ post.id }}" />
                        <input type="hidden" name="upvote" value="upvote" />
                        <button type="submit"><span class="fas fa-arrow-up"></span></button>
                      </form>
                      &nbsp;
                      {{ post.calculate_vote_score }}
                      <form action="/" method="POST">
                        {% csrf_token %}
                        <input type="hidden" name="username" value="{{ user }}" />
                        <input type="hidden" name="post_id" value="{{ post.id }}" />
                        <input type="hidden" name="downvote" value="downvote" />
                        <button type="submit"><span class="fas fa-arrow-down"></span></button>
                      </form>
                </div>
              </div>
        {% endfor %}
    </div>
    <div class='col-6 col-md-4 pt-5 text-right'>
        <a class='btn btn-primary mr-1 my-1' href='/post/'>Create Post</a>
        <br>
        <a class='btn btn-primary mr-1 my-1' href='/explore/'>Explore</a>
        <br>
        {% if request.user.is_authenticated %}
        <a class='btn btn-primary mr-1 my-1' href='/create_subreddit/''>Create new subreddit</a>
        {% endif %}
    </div>
</div>

{% endblock %}